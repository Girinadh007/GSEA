<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>GSEA - Government Scheme Eligibility Assistant</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}"/>
  <script src="{{ url_for('static', filename='script.js') }}" defer></script>
</head>
<body>
    <h1>Government Scheme Eligibility Assistant</h1>

    <!-- ðŸŒ Google Translator -->
    <div class="google-translate">
        <div id="google_translate_element"></div>
    </div>

    <form action="/check" method="POST">
        <!-- Gender -->
        <label for="gender">Gender:</label>
        <select id="gender" name="gender" required onchange="toggleTransgenderFields()">
            <option value="">Select Gender</option>
            <option value="Male">Male</option>
            <option value="Female">Female</option>
            <option value="Other">Other (Transgender)</option>
        </select>

        <!-- Age -->
        <label for="age">Age:</label>
        <input type="number" name="age" id="age" placeholder="Enter your age" required>

        <!-- Area -->
        <label for="area">Area of Living:</label>
        <select name="area" id="area" required>
            <option value="">Select Area</option>
            <option value="Urban">Urban</option>
            <option value="Rural">Rural</option>
        </select>

        <!-- State (Visible for all genders) -->
        <label for="state">State:</label>
        <select id="state" name="state" required>
            <option value="">Select State</option>
            <option value="Andhra Pradesh">Andhra Pradesh</option>
            <option value="Arunachal Pradesh">Arunachal Pradesh</option>
            <option value="Assam">Assam</option>
            <option value="Bihar">Bihar</option>
            <option value="Chhattisgarh">Chhattisgarh</option>
            <option value="Delhi">Delhi</option>
            <option value="Goa">Goa</option>
            <option value="Gujarat">Gujarat</option>
            <option value="Haryana">Haryana</option>
            <option value="Himachal Pradesh">Himachal Pradesh</option>
            <option value="Jharkhand">Jharkhand</option>
            <option value="Karnataka">Karnataka</option>
            <option value="Kerala">Kerala</option>
            <option value="Madhya Pradesh">Madhya Pradesh</option>
            <option value="Maharashtra">Maharashtra</option>
            <option value="Manipur">Manipur</option>
            <option value="Meghalaya">Meghalaya</option>
            <option value="Mizoram">Mizoram</option>
            <option value="Nagaland">Nagaland</option>
            <option value="Odisha">Odisha</option>
            <option value="Punjab">Punjab</option>
            <option value="Rajasthan">Rajasthan</option>
            <option value="Sikkim">Sikkim</option>
            <option value="Tamil Nadu">Tamil Nadu</option>
            <option value="Telangana">Telangana</option>
            <option value="Tripura">Tripura</option>
            <option value="Uttar Pradesh">Uttar Pradesh</option>
            <option value="Uttarakhand">Uttarakhand</option>
            <option value="West Bengal">West Bengal</option>
        </select>

        <!-- Differently Abled -->
        <div id="differentlyAbledField">
            <label for="differently_abled">Are you differently abled?</label>
            <select name="differently_abled" id="differently_abled">
                <option value="no">No</option>
                <option value="yes">Yes</option>
            </select>
        </div>

        <!-- Student -->
        <div id="studentField">
            <label for="student">Are you a Student?</label>
            <select name="student" id="student" onchange="toggleStudentFields()">
                <option value="no">No</option>
                <option value="yes">Yes</option>
            </select>
        </div>

        <!-- BPL -->
        <div id="bplField">
            <label for="bpl">Below Poverty Line (BPL):</label>
            <select name="bpl" id="bpl">
                <option value="no">No</option>
                <option value="yes">Yes</option>
            </select>
        </div>

        <!-- Other Fields (Hidden for Transgender or Student) -->
        <div id="otherFields">
            <label for="caste">Caste:</label>
            <select name="caste" id="caste">
                <option value="">Select Caste</option>
                <option value="SC">SC</option>
                <option value="ST">ST</option>
                <option value="OBC">OBC</option>
                <option value="GENERAL">General</option>
            </select>

            <label for="minority">Minority Community:</label>
            <select name="minority" id="minority">
                <option value="no">No</option>
                <option value="yes">Yes</option>
            </select>

            <label for="employment">Employment Status:</label>
            <select name="employment" id="employment">
                <option value="unemployed">Unemployed</option>
                <option value="employed">Employed</option>
                <option value="self-employed/entrepreneur">Self-employed / Entrepreneur</option>
                <option value="farmer">Farmer</option>
                <option value="wage labourer">Wage Labourer</option>
                <option value="retired">Retired</option>
                <option value="housewife">Housewife</option>
                <option value="artisan">Artisan</option>
                <option value="others">Others</option>
            </select>

            <label for="annual_income">Annual Income (â‚¹):</label>
            <input type="number" name="annual_income" id="annual_income" placeholder="Enter annual income">
        </div>

        <button type="submit">Check Eligible Schemes</button>
    </form>

    <!-- Google Translate Script -->
    <script type="text/javascript">
        function googleTranslateElementInit() {
            new google.translate.TranslateElement({pageLanguage: 'en'}, 'google_translate_element');
        }
    </script>
    <script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

    <!-- Toggle Transgender & Student Fields -->
    <script>
        function toggleTransgenderFields() {
            const gender = document.getElementById("gender").value;
            const otherFields = document.getElementById("otherFields");
            const differentlyAbled = document.getElementById("differentlyAbledField");
            const studentField = document.getElementById("studentField");
            const bplField = document.getElementById("bplField");

            if (gender === "Other") {
                // For transgender users
                otherFields.style.display = "none";
                differentlyAbled.style.display = "block";
                studentField.style.display = "block";
                bplField.style.display = "block";
            } else {
                // Show everything for male/female
                otherFields.style.display = "block";
                differentlyAbled.style.display = "block";
                studentField.style.display = "block";
                bplField.style.display = "block";
            }
        }

        function toggleStudentFields() {
            const student = document.getElementById("student").value;
            const employment = document.getElementById("employment").parentElement;
            const income = document.getElementById("annual_income").parentElement;

            if (student === "yes") {
                employment.style.display = "none";
                income.style.display = "none";
            } else {
                employment.style.display = "block";
                income.style.display = "block";
            }
        }
    </script>
</body>
</html>
